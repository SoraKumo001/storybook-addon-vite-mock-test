{"version":3,"file":"MockReset.stories-CEqXFGLW.js","sources":["../../stories/MockReset/MockReset.tsx","../../stories/MockReset/MockReset.stories.tsx"],"sourcesContent":["import React, { FC } from \"react\";\nimport { action1, action2 } from \"./action\";\n\ninterface Props {}\n\n/**\n * MockReset\n *\n * @param {Props} { }\n */\nexport const MockReset: FC<Props> = ({}) => {\n  return (\n    <div>\n      <button onClick={action1}>Button1</button>\n      <button onClick={action2}>Button2</button>\n    </div>\n  );\n};\n","import { Meta, StoryObj } from \"@storybook/nextjs-vite\";\nimport { expect, userEvent, waitFor, within } from \"storybook/test\";\nimport { createMock, getMock, resetMock } from \"storybook-addon-vite-mock\";\nimport { action1, action2 } from \"./action\";\nimport { MockReset } from \"./MockReset\";\n\nconst meta: Meta<typeof MockReset> = {\n  component: MockReset,\n};\nexport default meta;\n\nexport const Primary: StoryObj<typeof MockReset> = {\n  parameters: {\n    moduleMock: {\n      mock: () => {\n        // The mock to be used is created here\n        const mock1 = createMock(action1);\n        const mock2 = createMock(action2);\n        return [mock1, mock2];\n      },\n    },\n  },\n  play: async ({ canvasElement, parameters }) => {\n    const mock1 = getMock(parameters, action1);\n    const mock2 = getMock(parameters, action2);\n\n    const canvas = within(canvasElement);\n    await waitFor(() => {\n      expect(mock1).not.toBeCalled();\n      expect(mock2).not.toBeCalled();\n    });\n    userEvent.click(await canvas.findByText(\"Button1\"));\n    await waitFor(() => {\n      expect(mock1).toBeCalled();\n      expect(mock2).not.toBeCalled();\n    });\n\n    // Reset all mock\n    resetMock(parameters);\n    await waitFor(() => {\n      expect(mock1).not.toBeCalled();\n      expect(mock2).not.toBeCalled();\n    });\n\n    userEvent.click(await canvas.findByText(\"Button2\"));\n    await waitFor(() => {\n      expect(mock1).not.toBeCalled();\n      expect(mock2).toBeCalled();\n    });\n  },\n};\n"],"names":["cov_1qy63i9ihi","actualCoverage","MockReset","s","_jsx","onClick","children","action1","action2","expect","userEvent","waitFor","within","component","moduleMock","mock","mock1","createMock","mock2","play","parameters","getMock","canvas","canvasElement","not","toBeCalled","click","findByText","resetMock","Primary"],"mappings":"y5FAiBA,OAAAA,EAAAC,UAAA,CAAA,OAAAA,CAAA,EAAAA,CAAAD,KAPOA,IAAME,EAAAA,CAAAA,IAAkBF,MAAAA,EAAA,CAAA,CAAA,KAAAA,EAAA,EAAAG,EAAA,CAAA,IAC7BH,EAAA,EAAA,EAAA,CAAA,WAEII,OAAQC,UAASD,EAAAA,IAAA,SAAA,CAASE,QAAAC,EAAA,kBAClBF,CAAAA,EAASD,EAAAA,IAAA,SAAA,CAASE,QAAAE,EAAA,SAAA,YAGhC,CAAA;;wDChBA,KAAA,CAAA,OAAAC,EAASA,UAAAA,EAAQC,QAAAA,EAAWC,OAAAA,CAASC,EAAAA,0BAMnCC,EAAWX,CACZW,UAAAX,CACD,EAIIY,EAAY,YACJ,CACJA,WAAA,CACAC,KAAAA,IAAA,CAEA,MAAAC,EAAaC,EAAQV,CAAA,EACvBW,EAAAD,EAAAT,CAAA,EACF,MAAA,CAAAQ,EAAAE,CAAAA,CACD,CAAA,CACDC,EAA8BC,KAAAA,MAAAA,CAAAA,cAAAA,EAAAA,WAAAA,KAAAA,CAAY,MAAKJ,EAAAK,EAAAD,EAAAb,CAAA,EACvCS,EAAQK,EAAQD,EAAYb,CAAO,EAGnCe,EAASV,EAAOW,CAAa,EACnC,MAAMZ,EAAQ,IAAA,CACZF,EAAOO,CAAK,EAAEQ,IAAIC,WAAAA,EAClBhB,EAAOS,CAAK,EAAEM,IAAIC,WAAAA,CACpB,CAAC,EACDf,EAAUgB,MAAM,MAAMJ,EAAOK,WAAW,SAAS,CAAC,EAClD,MAAMhB,EAAQ,IAAA,CACZF,EAAOO,CAAK,EAAES,WAAAA,EACdhB,EAAOS,CAAK,EAAEM,IAAIC,WAAAA,CACpB,CAAC,EAGDG,EAAUR,CAAU,EACpB,MAAMT,EAAQ,IAAA,CACZF,EAAOO,CAAK,EAAEQ,IAAIC,WAAAA,EAClBhB,EAAOS,CAAK,EAAEM,IAAIC,WAAAA,CACpB,CAAC,EAGDf,EAAMC,MAAQ,MAAMW,EAAAK,WAAA,SAAA,CAAA,QAClBlB,EAAY,IAAA,CACZA,EAAOS,CAAK,EAAEO,IAAAA,WAAAA,EACdhB,EAAAS,CAAA,EAAAO,WAAAA,CACJ,CAAA,CACD,CAAAI,EAAAA,EAAAA,WAAAA,CAAAA,GAAAA,EAAAA,WAAAA,KAAAA,CAAAA,GAAAA,EAAAA,YAAAA,KAAAA,OAAAA,CAAAA,eAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,GAAAA,GAAAA,EAAAA,YAAAA,MAAAA,MAAAA,CAAAA,CAAAA"}