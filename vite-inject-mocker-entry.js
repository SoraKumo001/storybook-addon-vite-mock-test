import{_ as ye}from"./assets/preload-helper-DlceIuYc.js";const Ue=(()=>{class q{registryByUrl=new Map;registryById=new Map;clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(s){this.registryByUrl.set(s.url,s),this.registryById.set(s.id,s)}register(s,g,l,k,x){const b=typeof s=="object"?s.type:s;if(typeof s=="object"){const S=s;if(S instanceof R||S instanceof I||S instanceof X||S instanceof L)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${S.type}". Use "registry.add()" to update a mock instead.`);if(S.type==="automock"){const C=R.fromJSON(S);return this.add(C),C}else if(S.type==="autospy"){const C=I.fromJSON(S);return this.add(C),C}else if(S.type==="redirect"){const C=L.fromJSON(S);return this.add(C),C}else throw S.type==="manual"?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${S.type}`)}if(typeof g!="string")throw new TypeError("[vitest] Mocks require a raw string.");if(typeof k!="string")throw new TypeError("[vitest] Mocks require a url string.");if(typeof l!="string")throw new TypeError("[vitest] Mocks require an id string.");if(b==="manual"){if(typeof x!="function")throw new TypeError("[vitest] Manual mocks require a factory function.");const S=new X(g,l,k,x);return this.add(S),S}else if(b==="automock"||b==="autospy"){const S=b==="automock"?new R(g,l,k):new I(g,l,k);return this.add(S),S}else if(b==="redirect"){if(typeof x!="string")throw new TypeError("[vitest] Redirect mocks require a redirect string.");const S=new L(g,l,k,x);return this.add(S),S}else throw new Error(`[vitest] Unknown mock type: ${b}`)}delete(s){this.registryByUrl.delete(s)}get(s){return this.registryByUrl.get(s)}getById(s){return this.registryById.get(s)}has(s){return this.registryByUrl.has(s)}}class R{type="automock";constructor(s,g,l){this.raw=s,this.id=g,this.url=l}static fromJSON(s){return new I(s.raw,s.id,s.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}}class I{type="autospy";constructor(s,g,l){this.raw=s,this.id=g,this.url=l}static fromJSON(s){return new I(s.raw,s.id,s.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}class L{type="redirect";constructor(s,g,l,k){this.raw=s,this.id=g,this.url=l,this.redirect=k}static fromJSON(s){return new L(s.raw,s.id,s.url,s.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}}class X{cache;type="manual";constructor(s,g,l,k){this.raw=s,this.id=g,this.url=l,this.factory=k}async resolve(){if(this.cache)return this.cache;let s;try{s=await this.factory()}catch(g){const l=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw l.cause=g,l}if(s===null||typeof s!="object"||Array.isArray(s))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=s}static fromJSON(s,g){return new X(s.raw,s.id,s.url,g)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}return ___createMock({A:R,M:q,R:L,a:X,b:I})})(),{A:De,M:ge,R:je,a:ct,b:at}=Ue,We=(()=>{function q(s,g,l={}){const k=new Array,x=new R,b=(N,a,m)=>{try{return N[a]=m,!0}catch{return!1}},S=(N,a)=>{const m=I(N),i=m==="Module"||!!N.__esModule;for(const{key:w,descriptor:A}of X(N,i,s.globalConstructors)){if(!i&&A.get){try{Object.defineProperty(a,w,A)}catch{}continue}if(L(w,m))continue;const P=N[w],z=x.getId(P);if(z!==void 0){k.push(()=>b(a,w,x.getMockedValue(z)));continue}const F=I(P);if(Array.isArray(P)){b(a,w,[]);continue}const K=F.includes("Function")&&typeof P=="function";if((!K||P._isMockFunction)&&F!=="Object"&&F!=="Module"){b(a,w,P);continue}if(b(a,w,K?P:{})){if(K){let fe=function(){if(this instanceof a[w])for(const{key:Q,descriptor:te}of X(this,!1,s.globalConstructors)){if(te.get)continue;const re=this[Q];if(I(re).includes("Function")&&typeof re=="function"){const ne=this[Q],H=ce(this,Q).mockImplementation(ne),pe=H.mockReset;H.mockRestore=H.mockReset=()=>(pe.call(H),H.mockImplementation(ne),H)}}};if(!s.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");const ce=s.spyOn,V=ce(a,w);if(s.type==="automock"){V.mockImplementation(fe);const Q=V.mockReset;V.mockRestore=V.mockReset=()=>(Q.call(V),V.mockImplementation(fe),V)}Object.defineProperty(a[w],"length",{value:0})}x.track(P,a[w]),S(P,a[w])}}},C=l;S(g,C);for(const N of k)N();return C}class R{idMap=new Map;mockedValueMap=new Map;getId(g){return this.idMap.get(g)}getMockedValue(g){return this.mockedValueMap.get(g)}track(g,l){const k=this.idMap.size;return this.idMap.set(g,k),this.mockedValueMap.set(k,l),k}}function I(s){return Object.prototype.toString.apply(s).slice(8,-1)}function L(s,g){return g.includes("Function")&&typeof s=="string"&&["arguments","callee","caller","length","name"].includes(s)}function X(s,g,l){const{Map:k,Object:x,Function:b,RegExp:S,Array:C}=l,N=new k;let a=s;do{if(a===x.prototype||a===b.prototype||a===S.prototype)break;j(a,m=>{const i=x.getOwnPropertyDescriptor(a,m);i&&N.set(m,{key:m,descriptor:i})})}while(a=x.getPrototypeOf(a));if(g&&!N.has("default")&&"default"in s){const m=x.getOwnPropertyDescriptor(s,"default");m&&N.set("default",{key:"default",descriptor:m})}return C.from(N.values())}function j(s,g){const l=typeof g=="function"?g:k=>g.add(k);Object.getOwnPropertyNames(s).forEach(l),Object.getOwnPropertySymbols(s).forEach(l)}return ___createMock({mockObject:q})})(),{mockObject:ze}=We,Ve=(()=>{const q=/^[A-Za-z]:\//;function R(a=""){return a&&a.replace(/\\/g,"/").replace(q,m=>m.toUpperCase())}const I=/^[/\\]{2}/,L=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,X=/^[A-Za-z]:$/,j=/.(\.[^./]+|\.)$/,s=function(a){if(a.length===0)return".";a=R(a);const m=a.match(I),i=b(a),w=a[a.length-1]==="/";return a=x(a,!i),a.length===0?i?"/":w?"./":".":(w&&(a+="/"),X.test(a)&&(a+="/"),m?i?`//${a}`:`//./${a}`:i&&!b(a)?`/${a}`:a)},g=function(...a){let m="";for(const i of a)if(i)if(m.length>0){const w=m[m.length-1]==="/",A=i[0]==="/";w&&A?m+=i.slice(1):m+=w||A?i:`/${i}`}else m+=i;return s(m)};function l(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const k=function(...a){a=a.map(w=>R(w));let m="",i=!1;for(let w=a.length-1;w>=-1&&!i;w--){const A=w>=0?a[w]:l();!A||A.length===0||(m=`${A}/${m}`,i=b(A))}return m=x(m,!i),i&&!b(m)?`/${m}`:m.length>0?m:"."};function x(a,m){let i="",w=0,A=-1,P=0,z=null;for(let F=0;F<=a.length;++F){if(F<a.length)z=a[F];else{if(z==="/")break;z="/"}if(z==="/"){if(!(A===F-1||P===1))if(P===2){if(i.length<2||w!==2||i[i.length-1]!=="."||i[i.length-2]!=="."){if(i.length>2){const K=i.lastIndexOf("/");K===-1?(i="",w=0):(i=i.slice(0,K),w=i.length-1-i.lastIndexOf("/")),A=F,P=0;continue}else if(i.length>0){i="",w=0,A=F,P=0;continue}}m&&(i+=i.length>0?"/..":"..",w=2)}else i.length>0?i+=`/${a.slice(A+1,F)}`:i=a.slice(A+1,F),w=F-A-1;A=F,P=0}else z==="."&&P!==-1?++P:P=-1}return i}const b=function(a){return L.test(a)},S=function(a){if(a==="..")return"";const m=j.exec(R(a));return m&&m[1]||""},C=function(a){const m=R(a).replace(/\/$/,"").split("/").slice(0,-1);return m.length===1&&X.test(m[0])&&(m[0]+="/"),m.join("/")||(b(a)?"/":".")},N=function(a,m){const i=R(a).split("/");let w="";for(let A=i.length-1;A>=0;A--){const P=i[A];if(P){w=P;break}}return m&&w.endsWith(m)?w.slice(0,-m.length):w};return ___createMock({b:N,d:C,e:S,i:b,j:g,r:k})})(),{b:lt,d:ut,e:Ye,i:ft,j:Ke,r:dt}=Ve,He=(()=>{var q={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},R=Object.entries(q);function I(n){return String(n)}I.open="",I.close="";function L(n=!1){let r=typeof process<"u"?process:void 0,t=r?.env||{},e=r?.argv||[];return!("NO_COLOR"in t||e.includes("--no-color"))&&("FORCE_COLOR"in t||e.includes("--color")||r?.platform==="win32"||n&&t.TERM!=="dumb"||"CI"in t)||typeof window<"u"&&!!window.chrome}function X(n=!1){let r=L(n),t=(p,u,y,v)=>{let T="",$=0;do T+=p.substring($,v)+y,$=v+u.length,v=p.indexOf(u,$);while(~v);return T+p.substring($)},e=(p,u,y=p)=>{let v=T=>{let $=String(T),U=$.indexOf(u,p.length);return~U?p+t($,u,y,U)+u:p+$+u};return v.open=p,v.close=u,v},o={isColorSupported:r},d=p=>`\x1B[${p}m`;for(let[p,u]of R)o[p]=r?e(d(u[0]),d(u[1]),u[2]):I;return o}X();function j(n,r){return r.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){if(e!=="default"&&!(e in n)){var o=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,o.get?o:{enumerable:!0,get:function(){return t[e]}})}})}),Object.freeze(n)}function s(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var g={exports:{}},l={},k;function x(){if(k)return l;k=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.view_transition"),D=Symbol.for("react.client.reference");function O(c){if(typeof c=="object"&&c!==null){var f=c.$$typeof;switch(f){case n:switch(c=c.type,c){case t:case o:case e:case y:case v:case U:return c;default:switch(c=c&&c.$$typeof,c){case p:case u:case $:case T:return c;case d:return c;default:return f}}case r:return f}}}return l.ContextConsumer=d,l.ContextProvider=p,l.Element=n,l.ForwardRef=u,l.Fragment=t,l.Lazy=$,l.Memo=T,l.Portal=r,l.Profiler=o,l.StrictMode=e,l.Suspense=y,l.SuspenseList=v,l.isContextConsumer=function(c){return O(c)===d},l.isContextProvider=function(c){return O(c)===p},l.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===n},l.isForwardRef=function(c){return O(c)===u},l.isFragment=function(c){return O(c)===t},l.isLazy=function(c){return O(c)===$},l.isMemo=function(c){return O(c)===T},l.isPortal=function(c){return O(c)===r},l.isProfiler=function(c){return O(c)===o},l.isStrictMode=function(c){return O(c)===e},l.isSuspense=function(c){return O(c)===y},l.isSuspenseList=function(c){return O(c)===v},l.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===t||c===o||c===e||c===y||c===v||typeof c=="object"&&c!==null&&(c.$$typeof===$||c.$$typeof===T||c.$$typeof===p||c.$$typeof===d||c.$$typeof===u||c.$$typeof===D||c.getModuleId!==void 0)},l.typeOf=O,l}var b;function S(){return b||(b=1,g.exports=x()),g.exports}var C=S(),N=s(C),a=j({__proto__:null,default:N},[C]),m={exports:{}},i={},w;function A(){if(w)return i;w=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),u=Symbol.for("react.server_context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),O;O=Symbol.for("react.module.reference");function c(f){if(typeof f=="object"&&f!==null){var Z=f.$$typeof;switch(Z){case n:switch(f=f.type,f){case t:case o:case e:case v:case T:return f;default:switch(f=f&&f.$$typeof,f){case u:case p:case y:case U:case $:case d:return f;default:return Z}}case r:return Z}}}return i.ContextConsumer=p,i.ContextProvider=d,i.Element=n,i.ForwardRef=y,i.Fragment=t,i.Lazy=U,i.Memo=$,i.Portal=r,i.Profiler=o,i.StrictMode=e,i.Suspense=v,i.SuspenseList=T,i.isAsyncMode=function(){return!1},i.isConcurrentMode=function(){return!1},i.isContextConsumer=function(f){return c(f)===p},i.isContextProvider=function(f){return c(f)===d},i.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===n},i.isForwardRef=function(f){return c(f)===y},i.isFragment=function(f){return c(f)===t},i.isLazy=function(f){return c(f)===U},i.isMemo=function(f){return c(f)===$},i.isPortal=function(f){return c(f)===r},i.isProfiler=function(f){return c(f)===o},i.isStrictMode=function(f){return c(f)===e},i.isSuspense=function(f){return c(f)===v},i.isSuspenseList=function(f){return c(f)===T},i.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===t||f===o||f===e||f===v||f===T||f===D||typeof f=="object"&&f!==null&&(f.$$typeof===U||f.$$typeof===$||f.$$typeof===d||f.$$typeof===p||f.$$typeof===y||f.$$typeof===O||f.getModuleId!==void 0)},i.typeOf=c,i}var P;function z(){return P||(P=1,m.exports=A()),m.exports}var F=z(),K=s(F),ce=j({__proto__:null,default:K},[F]);Object.fromEntries(["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"].map(n=>[n,r=>ce[n](r)||a[n](r)]));let V=()=>"Promise{â€¦}";try{const{getPromiseDetails:n,kPending:r,kRejected:t}=process.binding("util");Array.isArray(n(Promise.resolve()))&&(V=(e,o)=>{const[d,p]=n(e);return d===r?"Promise{<pending>}":`Promise${d===t?"!":""}{${o.inspect(p,o)}}`})}catch{}function Q(n){const{message:r="$$stack trace error",stackTraceLimit:t=1}=n||{},e=Error.stackTraceLimit,o=Error.prepareStackTrace;Error.stackTraceLimit=t,Error.prepareStackTrace=u=>u.stack;const p=new Error(r).stack||"";return Error.prepareStackTrace=o,Error.stackTraceLimit=e,p}var te,re;function ke(){if(re)return te;re=1;var n,r,t,e,o,d,p,u,y,v,T,$,U,D,O,c,f,Z,le;return U=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,$=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,n=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,O=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,T=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,c=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,le=/[\t\v\f\ufeff\p{Zs}]+/uy,u=/\r?\n|[\r\u2028\u2029]/y,y=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,D=/\/\/.*/y,t=/[<>.:={}]|\/(?![\/*])/y,r=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,e=/(['"])(?:(?!\1)[^])*(\1)?/y,o=/[^<>{}]+/y,Z=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,f=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,d=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,p=/^(?:return|throw|yield)$/,v=RegExp(u.source),te=function*(B,{jsx:qe=!1}={}){var G,ue,be,_,E,Ie,h,Y,xe,W,se,M,ie,J;for({length:Ie}=B,_=0,E="",J=[{tag:"JS"}],G=[],se=0,M=!1;_<Ie;){switch(Y=J[J.length-1],Y.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(B[_]==="/"&&(Z.test(E)||d.test(E))&&(U.lastIndex=_,h=U.exec(B))){_=U.lastIndex,E=h[0],M=!0,yield{type:"RegularExpressionLiteral",value:h[0],closed:h[1]!==void 0&&h[1]!=="\\"};continue}if($.lastIndex=_,h=$.exec(B)){switch(ie=h[0],xe=$.lastIndex,W=ie,ie){case"(":E==="?NonExpressionParenKeyword"&&J.push({tag:"JSNonExpressionParen",nesting:se}),se++,M=!1;break;case")":se--,M=!0,Y.tag==="JSNonExpressionParen"&&se===Y.nesting&&(J.pop(),W="?NonExpressionParenEnd",M=!1);break;case"{":$.lastIndex=0,be=!f.test(E)&&(Z.test(E)||d.test(E)),G.push(be),M=!1;break;case"}":switch(Y.tag){case"InterpolationInTemplate":if(G.length===Y.nesting){c.lastIndex=_,h=c.exec(B),_=c.lastIndex,E=h[0],h[1]==="${"?(E="?InterpolationInTemplate",M=!1,yield{type:"TemplateMiddle",value:h[0]}):(J.pop(),M=!0,yield{type:"TemplateTail",value:h[0],closed:h[1]==="`"});continue}break;case"InterpolationInJSX":if(G.length===Y.nesting){J.pop(),_+=1,E="}",yield{type:"JSXPunctuator",value:"}"};continue}}M=G.pop(),W=M?"?ExpressionBraceEnd":"}";break;case"]":M=!0;break;case"++":case"--":W=M?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(qe&&(Z.test(E)||d.test(E))){J.push({tag:"JSXTag"}),_+=1,E="<",yield{type:"JSXPunctuator",value:ie};continue}M=!1;break;default:M=!1}_=xe,E=W,yield{type:"Punctuator",value:ie};continue}if(n.lastIndex=_,h=n.exec(B)){switch(_=n.lastIndex,W=h[0],h[0]){case"for":case"if":case"while":case"with":E!=="."&&E!=="?."&&(W="?NonExpressionParenKeyword")}E=W,M=!d.test(h[0]),yield{type:h[1]==="#"?"PrivateIdentifier":"IdentifierName",value:h[0]};continue}if(O.lastIndex=_,h=O.exec(B)){_=O.lastIndex,E=h[0],M=!0,yield{type:"StringLiteral",value:h[0],closed:h[2]!==void 0};continue}if(T.lastIndex=_,h=T.exec(B)){_=T.lastIndex,E=h[0],M=!0,yield{type:"NumericLiteral",value:h[0]};continue}if(c.lastIndex=_,h=c.exec(B)){_=c.lastIndex,E=h[0],h[1]==="${"?(E="?InterpolationInTemplate",J.push({tag:"InterpolationInTemplate",nesting:G.length}),M=!1,yield{type:"TemplateHead",value:h[0]}):(M=!0,yield{type:"NoSubstitutionTemplate",value:h[0],closed:h[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(t.lastIndex=_,h=t.exec(B)){switch(_=t.lastIndex,W=h[0],h[0]){case"<":J.push({tag:"JSXTag"});break;case">":J.pop(),E==="/"||Y.tag==="JSXTagEnd"?(W="?JSX",M=!0):J.push({tag:"JSXChildren"});break;case"{":J.push({tag:"InterpolationInJSX",nesting:G.length}),W="?InterpolationInJSX",M=!1;break;case"/":E==="<"&&(J.pop(),J[J.length-1].tag==="JSXChildren"&&J.pop(),J.push({tag:"JSXTagEnd"}))}E=W,yield{type:"JSXPunctuator",value:h[0]};continue}if(r.lastIndex=_,h=r.exec(B)){_=r.lastIndex,E=h[0],yield{type:"JSXIdentifier",value:h[0]};continue}if(e.lastIndex=_,h=e.exec(B)){_=e.lastIndex,E=h[0],yield{type:"JSXString",value:h[0],closed:h[2]!==void 0};continue}break;case"JSXChildren":if(o.lastIndex=_,h=o.exec(B)){_=o.lastIndex,E=h[0],yield{type:"JSXText",value:h[0]};continue}switch(B[_]){case"<":J.push({tag:"JSXTag"}),_++,E="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":J.push({tag:"InterpolationInJSX",nesting:G.length}),_++,E="?InterpolationInJSX",M=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(le.lastIndex=_,h=le.exec(B)){_=le.lastIndex,yield{type:"WhiteSpace",value:h[0]};continue}if(u.lastIndex=_,h=u.exec(B)){_=u.lastIndex,M=!1,p.test(E)&&(E="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:h[0]};continue}if(y.lastIndex=_,h=y.exec(B)){_=y.lastIndex,v.test(h[0])&&(M=!1,p.test(E)&&(E="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:h[0],closed:h[1]!==void 0};continue}if(D.lastIndex=_,h=D.exec(B)){_=D.lastIndex,M=!1,yield{type:"SingleLineComment",value:h[0]};continue}ue=String.fromCodePoint(B.codePointAt(_)),_+=ue.length,E=ue,M=!1,yield{type:Y.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:ue}}},te}ke();var de={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(de.keyword),new Set(de.strict);const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=new Uint8Array(64),pe=new Uint8Array(128);for(let n=0;n<ne.length;n++){const r=ne.charCodeAt(n);H[n]=r,pe[r]=n}var we;(function(n){n[n.Empty=1]="Empty",n[n.Hash=2]="Hash",n[n.Query=3]="Query",n[n.RelativePath=4]="RelativePath",n[n.AbsolutePath=5]="AbsolutePath",n[n.SchemeRelative=6]="SchemeRelative",n[n.Absolute=7]="Absolute"})(we||(we={}));const Te=/^[A-Za-z]:\//;function $e(n=""){return n&&n.replace(/\\/g,"/").replace(Te,r=>r.toUpperCase())}const Me=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function Pe(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const Re=function(...n){n=n.map(e=>$e(e));let r="",t=!1;for(let e=n.length-1;e>=-1&&!t;e--){const o=e>=0?n[e]:Pe();!o||o.length===0||(r=`${o}/${r}`,t=_e(o))}return r=Ae(r,!t),t&&!_e(r)?`/${r}`:r.length>0?r:"."};function Ae(n,r){let t="",e=0,o=-1,d=0,p=null;for(let u=0;u<=n.length;++u){if(u<n.length)p=n[u];else{if(p==="/")break;p="/"}if(p==="/"){if(!(o===u-1||d===1))if(d===2){if(t.length<2||e!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const y=t.lastIndexOf("/");y===-1?(t="",e=0):(t=t.slice(0,y),e=t.length-1-t.lastIndexOf("/")),o=u,d=0;continue}else if(t.length>0){t="",e=0,o=u,d=0;continue}}r&&(t+=t.length>0?"/..":"..",e=2)}else t.length>0?t+=`/${n.slice(o+1,u)}`:t=n.slice(o+1,u),e=u-o-1;o=u,d=0}else p==="."&&d!==-1?++d:d=-1}return t}const _e=function(n){return Me.test(n)},ve=/^\s*at .*(?:\S:\d+|\(native\))/m,Oe=/^(?:eval@)?(?:\[native code\])?$/;function Se(n){if(!n.includes(":"))return[n];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(n.replace(/^\(|\)$/g,""));if(!t)return[n];let e=t[1];if(e.startsWith("async ")&&(e=e.slice(6)),e.startsWith("http:")||e.startsWith("https:")){const o=new URL(e);o.searchParams.delete("import"),o.searchParams.delete("browserv"),e=o.pathname+o.hash+o.search}if(e.startsWith("/@fs/")){const o=/^\/@fs\/[a-zA-Z]:\//.test(e);e=e.slice(o?5:4)}return[e,t[2]||void 0,t[3]||void 0]}function Ce(n){let r=n.trim();if(Oe.test(r)||(r.includes(" > eval")&&(r=r.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!r.includes("@")&&!r.includes(":")))return null;const t=/((.*".+"[^@]*)?[^@]*)(@)/,e=r.match(t),o=e&&e[1]?e[1]:void 0,[d,p,u]=Se(r.replace(t,""));return!d||!p||!u?null:{file:d,method:o||"",line:Number.parseInt(p),column:Number.parseInt(u)}}function Ne(n){const r=n.trim();return ve.test(r)?Le(r):Ce(r)}function Le(n){let r=n.trim();if(!ve.test(r))return null;r.includes("(eval ")&&(r=r.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let t=r.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const e=t.match(/ (\(.+\)$)/);t=e?t.replace(e[0],""):t;const[o,d,p]=Se(e?e[1]:t);let u=e&&t||"",y=o&&["eval","<anonymous>"].includes(o)?void 0:o;return!y||!d||!p?null:(u.startsWith("async ")&&(u=u.slice(6)),y.startsWith("file://")&&(y=y.slice(7)),y=y.startsWith("node:")||y.startsWith("internal:")?y:Re(y),u&&(u=u.replace(/__vite_ssr_import_\d+__\./g,"")),{method:u,file:y,line:Number.parseInt(d),column:Number.parseInt(p)})}function Je(n){const r=n?.globalThisKey||"__vitest_mocker__";function t(){return typeof globalThis[r]<"u"?globalThis[r]:new Proxy({},{get(e,o){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(o)}() is forbidden.`)}})}return{hoisted(e){if(typeof e!="function")throw new TypeError(`vi.hoisted() expects a function, but received a ${typeof e}`);return e()},mock(e,o){if(typeof e!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof e}`);const d=ee("mock");t().queueMock(e,d,typeof o=="function"?()=>o(()=>t().importActual(e,d)):o)},unmock(e){if(typeof e!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof e}`);t().queueUnmock(e,ee("unmock"))},doMock(e,o){if(typeof e!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof e}`);const d=ee("doMock");t().queueMock(e,d,typeof o=="function"?()=>o(()=>t().importActual(e,d)):o)},doUnmock(e){if(typeof e!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof e}`);t().queueUnmock(e,ee("doUnmock"))},async importActual(e){return t().importActual(e,ee("importActual"))},async importMock(e){return t().importMock(e,ee("importMock"))}}}function ee(n){const t=Q({stackTraceLimit:5}).split(`
`),e=t.findIndex(d=>d.includes(` at Object.${n}`)||d.includes(`${n}@`)),o=Ne(t[e+1]);return o?.file||""}const ae={on:he,off:he,send:he};function he(){console.warn("Vitest mocker cannot work if Vite didn't establish WS connection.")}function Be(n,r){return ae.send(n,r),new Promise((t,e)=>{const o=setTimeout(()=>{e(new Error(`Failed to resolve ${n} in time`))},5e3);ae.on(`${n}:result`,function d(p){t(p),clearTimeout(o),ae.off(`${n}:result`,d)})})}const{now:Ee}=Date;class Xe{registry=new ge;queue=new Set;mockedIds=new Set;constructor(r,t,e,o){this.interceptor=r,this.rpc=t,this.spyOn=e,this.config=o}async prepare(){this.queue.size&&await Promise.all([...this.queue.values()])}async resolveFactoryModule(r){const t=this.registry.get(r);if(!t||t.type!=="manual")throw new Error(`Mock ${r} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return await t.resolve()}getFactoryModule(r){const t=this.registry.get(r);if(!t||t.type!=="manual")throw new Error(`Mock ${r} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!t.cache)throw new Error(`Mock ${r} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return t.cache}async invalidate(){const r=Array.from(this.mockedIds);r.length&&(await this.rpc.invalidate(r),await this.interceptor.invalidate(),this.registry.clear())}async importActual(r,t){const e=await this.rpc.resolveId(r,t);if(e==null)throw new Error(`[vitest] Cannot resolve "${r}" imported from "${t}"`);const o=Ye(e.id),d=new URL(e.url,location.href),p=`_vitest_original&ext${o}`,u=`${d.pathname}${d.search?`${d.search}&${p}`:`?${p}`}${d.hash}`;return this.wrapDynamicImport(()=>import(u)).then(y=>{if(!e.optimized||typeof y.default>"u")return y;const v=y.default;return v?.__esModule?v:{...typeof v=="object"&&!Array.isArray(v)||typeof v=="function"?v:{},default:v}})}async importMock(r,t){await this.prepare();const{resolvedId:e,resolvedUrl:o,redirectUrl:d}=await this.rpc.resolveMock(r,t,{mock:"auto"}),p=this.resolveMockPath(oe(o));let u=this.registry.get(p);if(!u)if(d){const y=new URL(this.resolveMockPath(oe(d)),location.href).toString();u=new je(r,e,p,y)}else u=new De(r,e,p);if(u.type==="manual")return await u.resolve();if(u.type==="automock"||u.type==="autospy"){const y=new URL(`/@id/${e}`,location.href),v=y.search?`${y.search}&t=${Ee()}`:`?t=${Ee()}`,T=await ye(()=>import(`${y.pathname}${v}&mock=${u.type}${y.hash}`),[],import.meta.url);return this.mockObject(T,u.type)}return import(u.redirect)}mockObject(r,t="automock"){return ze({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:t},r)}queueMock(r,t,e){const o=this.rpc.resolveMock(r,t,{mock:typeof e=="function"?"factory":e?.spy?"spy":"auto"}).then(async({redirectUrl:d,resolvedId:p,resolvedUrl:u,needsInterop:y,mockType:v})=>{const T=this.resolveMockPath(oe(u));this.mockedIds.add(p);const $=typeof e=="function"?async()=>{const O=await e();return y?{default:O}:O}:void 0,U=typeof d=="string"?new URL(this.resolveMockPath(oe(d)),location.href).toString():null;let D;v==="manual"?D=this.registry.register("manual",r,p,T,$):v==="autospy"?D=this.registry.register("autospy",r,p,T):v==="redirect"?D=this.registry.register("redirect",r,p,T,U):D=this.registry.register("automock",r,p,T),await this.interceptor.register(D)}).finally(()=>{this.queue.delete(o)});this.queue.add(o)}queueUnmock(r,t){const e=this.rpc.resolveId(r,t).then(async o=>{if(!o)return;const d=this.resolveMockPath(oe(o.url));this.mockedIds.add(o.id),this.registry.delete(d),await this.interceptor.delete(d)}).finally(()=>{this.queue.delete(e)});this.queue.add(e)}wrapDynamicImport(r){return typeof r=="function"?new Promise((e,o)=>{this.prepare().finally(()=>{r().then(e,o)})}):r}resolveMockPath(r){const t=this.config,e=Ke("/@fs/",t.root);return r.startsWith(t.root)?r.slice(t.root.length):r.startsWith(e)?r.slice(e.length):r}}const Fe=/(\?|&)v=\w{8}/;function oe(n){return n.replace(Fe,"")}return ___createMock({M:Xe,c:Je,h:ae,r:Be})})(),{M:Ze,c:Ge,h:pt,r:ht}=He,Qe=(()=>{const q=/[?#].*$/;function R(L){return L.replace(q,"")}function I(L,X,j='"__vitest_mocker__"'){const s=`const module = globalThis[${j}].getFactoryModule("${L}");`,g=X.map(l=>l==="default"?'export default module["default"];':`export const ${l} = module["${l}"];`).join(`
`);return`${s}
${g}`}return ___createMock({a:R,c:I})})(),{a:et,c:tt}=Qe,rt=(()=>{class q{mocks=new ge;startPromise;worker;constructor(k={}){this.options=k,k.globalThisAccessor||(k.globalThisAccessor='"__vitest_mocker__"')}async register(k){await this.init(),this.mocks.add(k)}async delete(k){await this.init(),this.mocks.delete(k)}async invalidate(){this.mocks.clear()}async resolveManualMock(k){const x=Object.keys(await k.resolve()),b=tt(k.url,x,this.options.globalThisAccessor);return new Response(b,{headers:{"Content-Type":"application/javascript"}})}async init(){if(this.worker)return this.worker;if(this.startPromise)return this.startPromise;const k=this.options.mswWorker;return this.startPromise=Promise.all([k?{setupWorker(x){return k.use(x),k}}:ye(()=>import("./assets/mocker_false-B8vaUYqb.js"),[],import.meta.url),ye(()=>import("./assets/mocker_false-b8IqGwxA.js"),[],import.meta.url)]).then(([{setupWorker:x},{http:b}])=>{const S=x(b.get(/.+/,async({request:C})=>{const N=X(C.url.slice(location.origin.length));if(!this.mocks.has(N))return j();const a=this.mocks.get(N);switch(a.type){case"manual":return this.resolveManualMock(a);case"automock":case"autospy":return Response.redirect(g(N,`mock=${a.type}`));case"redirect":return Response.redirect(a.redirect);default:throw new Error(`Unknown mock type: ${a.type}`)}}));return S.start(this.options.mswOptions).then(()=>S)}).finally(()=>{this.worker=k,this.startPromise=void 0}),await this.startPromise}}const R=/[?&]$/,I=/\bt=\d{13}&?\b/,L=/\bv=\w{8}&?\b/;function X(l){return l.replace(I,"").replace(L,"").replace(R,"")}function j(){return new Response(null,{status:302,statusText:"Passthrough",headers:{"x-msw-intention":"passthrough"}})}const s=/%/g;function g(l,k){const x=new URL(l.replace(s,"%25"),location.href),{search:b,hash:S}=x;return`${et(l)}?${k}${b?`&${b.slice(1)}`:""}${S??""}`}return ___createMock({ModuleMockerMSWInterceptor:q})})(),{ModuleMockerMSWInterceptor:mt}=rt;class nt{mocks=new ge;constructor(){}async register(R){this.mocks.add(R)}async delete(R){this.mocks.delete(R)}async invalidate(){this.mocks.clear()}}const me=q=>{switch(q){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}};class ot extends Ze{queueMock(){}}function st(q){const R=new ot(q("__vitest_mocker__"),{resolveId(I,L){return me("resolveId")},resolveMock(I,L,X){return me("resolveMock")},async invalidate(I){return me("invalidate")}},(...I)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...I),{root:""});return globalThis.__vitest_mocker__=R,Ge({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=st(()=>new nt);
//# sourceMappingURL=vite-inject-mocker-entry.js.map
